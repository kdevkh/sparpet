<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sparpet</title>
    <link rel="stylesheet" href="/style.css">
    <script src="https://kit.fontawesome.com/8bc9e38e4e.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="header">
        <a href="/posts" class="logo">Sparpet</a>

        <div class="search">
            <button class="search_button"><i class="fa-solid fa-magnifying-glass" oninput="searchPosts()"></i></button>
            <input class="search_input" type="text" placeholder="게시글 검색하기">
        </div>

        <a href="/sign-in" class="sign_in">로그인</a>
        <form class="sign-out" action='/users/sign-out'method="POST">
            <button type="submit" class="sign_out">로그아웃</button>
        </form>
        <a class="user" href="/users/profile"><i class="fa-solid fa-user"></i></a>
        <a href="/sign-up" class="sign_up">회원가입</a>
    </div>
    <div id="cookie" style="display: none;"><%= cookie %></div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // 페이지 로딩 시에 쿠키 확인
            const cookie = document.getElementById('cookie');
    
            // 쿠키가 존재하면 로그아웃 버튼을 표시하고, 로그인 버튼을 감춤
            if (cookie) {
                document.querySelector('.sign_in').style.display = 'none';
                document.querySelector('.sign_up').style.display = 'none';
                document.querySelector('.user').style.display = 'block';
                document.querySelector('.sign_out').style.display = 'block';
            } else {
                document.querySelector('.sign_in').style.display = 'block';
                document.querySelector('.sign_up').style.display = 'block';
                document.querySelector('.user').style.display = 'none';
                document.querySelector('.sign_out').style.display = 'none';
            }
        });
    </script>
</body>
</html>